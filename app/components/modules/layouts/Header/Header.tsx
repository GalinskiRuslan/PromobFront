"use client";
import React, { useEffect, useState } from "react";
import { CityChangeButton } from "./components/CityChangeButton";
import { Link, useRouter } from "@/langs";
import Image from "next/image";
import src from "./assets/Group 3.png";
import srcLight from "./assets/Group 3 (1).png";
import { useTheme } from "next-themes";
import cl from "./style.module.css";
import { LangChanger } from "./components/LangChanger";
import { ThemeCganger } from "./components/ThemeCganger";
import { RegisterButton } from "./components/RegisterButton";
import { LoginButton } from "./components/LoginButton";
import { AppDispatch } from "@/app/store/store";
import { useDispatch, useSelector } from "react-redux";
import {
  serErrorMethod,
  setErrorCode,
  setErrorText,
  setIsOpenMobMenu,
  setIsOpenModal,
  setVisibleLoader,
} from "@/app/store/slices/appSlice";
import { clearUser, getUserInfo } from "@/app/store/slices/authSlice";
import profImgWhite from "./assets/user-white.png";
import exitIcon from "./assets/download-white.png";
import exitIconDark from "./assets/download.png";
import profImgDark from "./assets/user.png";
import { useScrollLock } from "@/app/hooks/useScrollLock";
import mobLogoSrc from "./assets/moblogo.png";
import { CategoryList } from "../../CategoryList/CategoryList";

export const Header = () => {
  const { theme } = useTheme();
  const router = useRouter();
  const dispatch = useDispatch<AppDispatch>();
  const { isOpenMobMenu } = useSelector((state: any) => state.app);
  const { user } = useSelector((state: any) => state.auth);
  const { lock, unlock } = useScrollLock({ autoLock: false });
  const getUserInfoL = async () => {
    dispatch(setVisibleLoader(true));
    try {
      const response = await dispatch(getUserInfo()).unwrap();
      dispatch(setVisibleLoader(false));
    } catch (error: any) {
      dispatch(setVisibleLoader(false));
      dispatch(setIsOpenModal(true));
      dispatch(setErrorText(error.errorText));
      dispatch(serErrorMethod(error.method));
      dispatch(setErrorCode(error.status));
    }
  };
  const goToProfile = () => {
    dispatch(setIsOpenMobMenu(false));
    router.push("/profile");
  };
  const logout = () => {
    dispatch(setIsOpenMobMenu(false));
    localStorage.removeItem("token");
    dispatch(clearUser());
    router.push("/");
  };
  useEffect(() => {
    if (localStorage.getItem("token")) {
      getUserInfoL();
    }
  }, []);
  useEffect(() => {
    if (isOpenMobMenu) {
      lock();
    } else {
      unlock();
    }
    // Очистка эффекта при размонтировании компонента
    return () => unlock();
  }, [isOpenMobMenu, lock, unlock]);
  return (
    <div className={cl.container}>
      <div className={cl.leftItems}>
        <Link href={"/"}>
          {theme !== "dark" ? (
            <svg
              width="95"
              height="48"
              viewBox="0 0 95 48"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M45.6445 46.0413V41.0929H46.7543V41.9337H46.812C46.9146 41.6502 47.0846 41.429 47.3219 41.2701C47.5593 41.109 47.8426 41.0285 48.1719 41.0285C48.5054 41.0285 48.7866 41.1101 49.0154 41.2733C49.2463 41.4344 49.4088 41.6545 49.5029 41.9337H49.5542C49.6633 41.6588 49.8472 41.4398 50.1059 41.2765C50.3667 41.1112 50.6757 41.0285 51.0328 41.0285C51.4861 41.0285 51.856 41.1724 52.1425 41.4602C52.429 41.748 52.5723 42.1678 52.5723 42.7198V46.0413H51.408V42.9002C51.408 42.5931 51.3268 42.3686 51.1643 42.2269C51.0018 42.083 50.8029 42.0111 50.5677 42.0111C50.2876 42.0111 50.0685 42.0991 49.9102 42.2752C49.7541 42.4492 49.6761 42.6758 49.6761 42.955V46.0413H48.5375V42.8519C48.5375 42.5963 48.4605 42.3923 48.3066 42.2398C48.1548 42.0873 47.9559 42.0111 47.71 42.0111C47.5433 42.0111 47.3914 42.054 47.2546 42.1399C47.1177 42.2237 47.0087 42.3429 46.9274 42.4975C46.8462 42.65 46.8056 42.8283 46.8056 43.0323V46.0413H45.6445Z"
                fill="#9161DF"
              />
              <path
                d="M55.8991 46.1379C55.418 46.1379 55.001 46.0316 54.6482 45.819C54.2954 45.6063 54.0217 45.3089 53.8271 44.9266C53.6347 44.5443 53.5385 44.0976 53.5385 43.5864C53.5385 43.0753 53.6347 42.6275 53.8271 42.243C54.0217 41.8586 54.2954 41.56 54.6482 41.3474C55.001 41.1348 55.418 41.0285 55.8991 41.0285C56.3802 41.0285 56.7971 41.1348 57.1499 41.3474C57.5027 41.56 57.7753 41.8586 57.9678 42.243C58.1623 42.6275 58.2596 43.0753 58.2596 43.5864C58.2596 44.0976 58.1623 44.5443 57.9678 44.9266C57.7753 45.3089 57.5027 45.6063 57.1499 45.819C56.7971 46.0316 56.3802 46.1379 55.8991 46.1379ZM55.9055 45.2036C56.1663 45.2036 56.3844 45.1317 56.5598 44.9878C56.7351 44.8418 56.8655 44.6463 56.9511 44.4015C57.0387 44.1566 57.0826 43.8839 57.0826 43.5832C57.0826 43.2804 57.0387 43.0065 56.9511 42.7617C56.8655 42.5147 56.7351 42.3182 56.5598 42.1721C56.3844 42.0261 56.1663 41.9531 55.9055 41.9531C55.6382 41.9531 55.4158 42.0261 55.2384 42.1721C55.063 42.3182 54.9315 42.5147 54.8439 42.7617C54.7583 43.0065 54.7156 43.2804 54.7156 43.5832C54.7156 43.8839 54.7583 44.1566 54.8439 44.4015C54.9315 44.6463 55.063 44.8418 55.2384 44.9878C55.4158 45.1317 55.6382 45.2036 55.9055 45.2036Z"
                fill="#9161DF"
              />
              <path
                d="M59.2964 46.0413V39.4434H60.4574V41.9112H60.5055C60.5654 41.7909 60.6499 41.6631 60.7589 41.5278C60.868 41.3904 61.0155 41.2733 61.2015 41.1767C61.3875 41.0779 61.6249 41.0285 61.9135 41.0285C62.2941 41.0285 62.6373 41.1262 62.9431 41.3216C63.251 41.5149 63.4947 41.8017 63.6744 42.1818C63.8561 42.5598 63.947 43.0237 63.947 43.5735C63.947 44.1169 63.8582 44.5787 63.6808 44.9588C63.5033 45.339 63.2617 45.6289 62.9559 45.8286C62.6502 46.0284 62.3038 46.1282 61.9168 46.1282C61.6345 46.1282 61.4004 46.081 61.2144 45.9865C61.0283 45.892 60.8787 45.7782 60.7653 45.645C60.6541 45.5097 60.5675 45.3819 60.5055 45.2616H60.4382V46.0413H59.2964ZM60.435 43.5671C60.435 43.8871 60.4799 44.1674 60.5697 44.4079C60.6616 44.6485 60.7931 44.8364 60.9642 44.9717C61.1374 45.1049 61.3469 45.1714 61.5928 45.1714C61.8494 45.1714 62.0643 45.1027 62.2375 44.9652C62.4107 44.8256 62.5411 44.6356 62.6288 44.395C62.7186 44.1523 62.7635 43.8764 62.7635 43.5671C62.7635 43.26 62.7196 42.9872 62.632 42.7488C62.5443 42.5104 62.4139 42.3235 62.2407 42.1882C62.0675 42.0529 61.8515 41.9853 61.5928 41.9853C61.3448 41.9853 61.1342 42.0508 60.961 42.1818C60.7878 42.3128 60.6563 42.4964 60.5665 42.7327C60.4788 42.9689 60.435 43.2471 60.435 43.5671Z"
                fill="#9161DF"
              />
              <path
                d="M64.934 46.0413V41.0929H66.0951V46.0413H64.934ZM65.5177 40.3906C65.3339 40.3906 65.1756 40.3294 65.0431 40.207C64.9105 40.0824 64.8442 39.9331 64.8442 39.7592C64.8442 39.5831 64.9105 39.4338 65.0431 39.3114C65.1756 39.1868 65.3339 39.1245 65.5177 39.1245C65.7038 39.1245 65.862 39.1868 65.9924 39.3114C66.125 39.4338 66.1913 39.5831 66.1913 39.7592C66.1913 39.9331 66.125 40.0824 65.9924 40.207C65.862 40.3294 65.7038 40.3906 65.5177 40.3906Z"
                fill="#9161DF"
              />
              <path
                d="M68.45 39.4434V46.0413H67.289V39.4434H68.45Z"
                fill="#9161DF"
              />
              <path
                d="M70.805 39.4434V46.0413H69.6439V39.4434H70.805Z"
                fill="#9161DF"
              />
              <path
                d="M74.1478 46.1379C73.6667 46.1379 73.2497 46.0316 72.8969 45.819C72.5441 45.6063 72.2704 45.3089 72.0759 44.9266C71.8834 44.5443 71.7872 44.0976 71.7872 43.5864C71.7872 43.0753 71.8834 42.6275 72.0759 42.243C72.2704 41.8586 72.5441 41.56 72.8969 41.3474C73.2497 41.1348 73.6667 41.0285 74.1478 41.0285C74.6289 41.0285 75.0458 41.1348 75.3986 41.3474C75.7514 41.56 76.024 41.8586 76.2165 42.243C76.4111 42.6275 76.5084 43.0753 76.5084 43.5864C76.5084 44.0976 76.4111 44.5443 76.2165 44.9266C76.024 45.3089 75.7514 45.6063 75.3986 45.819C75.0458 46.0316 74.6289 46.1379 74.1478 46.1379ZM74.1542 45.2036C74.4151 45.2036 74.6332 45.1317 74.8085 44.9878C74.9838 44.8418 75.1142 44.6463 75.1998 44.4015C75.2874 44.1566 75.3313 43.8839 75.3313 43.5832C75.3313 43.2804 75.2874 43.0065 75.1998 42.7617C75.1142 42.5147 74.9838 42.3182 74.8085 42.1721C74.6332 42.0261 74.4151 41.9531 74.1542 41.9531C73.8869 41.9531 73.6645 42.0261 73.4871 42.1721C73.3117 42.3182 73.1802 42.5147 73.0926 42.7617C73.007 43.0065 72.9643 43.2804 72.9643 43.5832C72.9643 43.8839 73.007 44.1566 73.0926 44.4015C73.1802 44.6463 73.3117 44.8418 73.4871 44.9878C73.6645 45.1317 73.8869 45.2036 74.1542 45.2036Z"
                fill="#9161DF"
              />
              <path
                d="M79.6363 48C79.2193 48 78.8612 47.9431 78.5618 47.8292C78.2625 47.7176 78.0219 47.5672 77.8402 47.3782C77.6584 47.1892 77.5323 46.9798 77.4617 46.75L78.5073 46.4955C78.5543 46.5921 78.6228 46.6877 78.7126 46.7822C78.8024 46.8789 78.9232 46.9583 79.075 47.0206C79.2289 47.0851 79.4224 47.1173 79.6555 47.1173C79.9848 47.1173 80.2574 47.0367 80.4734 46.8756C80.6893 46.7167 80.7973 46.4547 80.7973 46.0896V45.1521H80.7396C80.6797 45.2724 80.592 45.3959 80.4766 45.5226C80.3633 45.6493 80.2125 45.7556 80.0243 45.8415C79.8383 45.9274 79.6042 45.9704 79.3219 45.9704C78.9435 45.9704 78.6003 45.8813 78.2924 45.703C77.9866 45.5226 77.7429 45.2541 77.5611 44.8976C77.3815 44.5389 77.2917 44.0901 77.2917 43.551C77.2917 43.0076 77.3815 42.5491 77.5611 42.1754C77.7429 41.7995 77.9877 41.5149 78.2956 41.3216C78.6035 41.1262 78.9467 41.0285 79.3252 41.0285C79.6138 41.0285 79.8512 41.0779 80.0372 41.1767C80.2253 41.2733 80.375 41.3904 80.4862 41.5278C80.5974 41.6631 80.6818 41.7909 80.7396 41.9112H80.8037V41.0929H81.9487V46.1218C81.9487 46.5449 81.8482 46.895 81.6472 47.172C81.4463 47.4491 81.1715 47.6563 80.823 47.7938C80.4744 47.9313 80.0789 48 79.6363 48ZM79.6459 45.0555C79.8918 45.0555 80.1013 44.9953 80.2745 44.875C80.4477 44.7548 80.5792 44.5819 80.669 44.3564C80.7588 44.1309 80.8037 43.8602 80.8037 43.5445C80.8037 43.2331 80.7588 42.9603 80.669 42.7262C80.5813 42.4921 80.4509 42.3107 80.2777 42.1818C80.1067 42.0508 79.8961 41.9853 79.6459 41.9853C79.3872 41.9853 79.1712 42.0529 78.998 42.1882C78.8248 42.3235 78.6944 42.5093 78.6067 42.7456C78.5191 42.9797 78.4752 43.246 78.4752 43.5445C78.4752 43.8474 78.5191 44.1126 78.6067 44.3403C78.6965 44.5658 78.828 44.7419 79.0012 44.8686C79.1766 44.9932 79.3914 45.0555 79.6459 45.0555Z"
                fill="#9161DF"
              />
              <path
                d="M83.1386 46.0413V41.0929H84.2644V41.9176H84.3157C84.4055 41.632 84.5595 41.4118 84.7776 41.2572C84.9978 41.1004 85.249 41.022 85.5313 41.022C85.5954 41.022 85.6671 41.0252 85.7462 41.0317C85.8274 41.036 85.8948 41.0435 85.9482 41.0542V42.127C85.899 42.1098 85.821 42.0948 85.7141 42.0819C85.6093 42.0669 85.5078 42.0594 85.4094 42.0594C85.1977 42.0594 85.0074 42.1056 84.8385 42.1979C84.6717 42.2881 84.5402 42.4138 84.444 42.5748C84.3478 42.7359 84.2997 42.9217 84.2997 43.1322V46.0413H83.1386Z"
                fill="#9161DF"
              />
              <path
                d="M88.049 46.1411C87.7368 46.1411 87.4557 46.0853 87.2055 45.9736C86.9575 45.8598 86.7607 45.6923 86.6153 45.471C86.4721 45.2498 86.4005 44.9771 86.4005 44.6528C86.4005 44.3736 86.4518 44.1427 86.5544 43.9601C86.657 43.7776 86.7971 43.6315 86.9746 43.522C87.152 43.4124 87.352 43.3298 87.5743 43.2739C87.7988 43.2159 88.0308 43.174 88.2703 43.1483C88.559 43.1182 88.7931 43.0914 88.9727 43.0677C89.1523 43.042 89.2827 43.0033 89.364 42.9518C89.4474 42.8981 89.4891 42.8154 89.4891 42.7037V42.6844C89.4891 42.4417 89.4174 42.2537 89.2742 42.1206C89.1309 41.9874 88.9246 41.9208 88.6552 41.9208C88.3708 41.9208 88.1452 41.9831 87.9784 42.1077C87.8138 42.2323 87.7026 42.3794 87.6449 42.5491L86.5608 42.3944C86.6463 42.0937 86.7875 41.8425 86.9842 41.6406C87.1809 41.4365 87.4214 41.284 87.7058 41.1831C87.9902 41.08 88.3045 41.0285 88.6488 41.0285C88.8861 41.0285 89.1224 41.0564 89.3576 41.1122C89.5928 41.1681 89.8077 41.2604 90.0023 41.3893C90.1968 41.516 90.3529 41.6889 90.4705 41.908C90.5903 42.127 90.6501 42.4009 90.6501 42.7295V46.0413H89.534V45.3615H89.4955C89.4249 45.499 89.3255 45.6278 89.1972 45.7481C89.0711 45.8662 88.9118 45.9618 88.7193 46.0348C88.529 46.1057 88.3056 46.1411 88.049 46.1411ZM88.3505 45.2842C88.5836 45.2842 88.7856 45.238 88.9567 45.1457C89.1277 45.0512 89.2592 44.9266 89.3512 44.772C89.4453 44.6173 89.4923 44.4487 89.4923 44.2662V43.6831C89.4559 43.7131 89.3939 43.741 89.3063 43.7668C89.2207 43.7926 89.1245 43.8151 89.0176 43.8345C88.9107 43.8538 88.8049 43.871 88.7001 43.886C88.5953 43.9011 88.5044 43.9139 88.4275 43.9247C88.2543 43.9483 88.0993 43.987 87.9624 44.0407C87.8256 44.0943 87.7176 44.1695 87.6385 44.2662C87.5594 44.3607 87.5198 44.4831 87.5198 44.6334C87.5198 44.8482 87.5978 45.0104 87.7539 45.1199C87.91 45.2294 88.1089 45.2842 88.3505 45.2842Z"
                fill="#9161DF"
              />
              <path
                d="M94.3129 41.0929V41.9949H91.4006V41.0929H94.3129ZM92.1287 46.0413V40.6258C92.1287 40.2929 92.1971 40.0158 92.334 39.7946C92.4729 39.5734 92.659 39.408 92.892 39.2985C93.1251 39.1889 93.3838 39.1342 93.6682 39.1342C93.8692 39.1342 94.0477 39.1503 94.2038 39.1825C94.3599 39.2147 94.4754 39.2437 94.5502 39.2695L94.3193 40.1715C94.2701 40.1565 94.2081 40.1415 94.1332 40.1264C94.0584 40.1092 93.975 40.1007 93.8831 40.1007C93.6671 40.1007 93.5142 40.1533 93.4244 40.2585C93.3368 40.3616 93.2929 40.5098 93.2929 40.7031V46.0413H92.1287Z"
                fill="#9161DF"
              />
              <path
                d="M45.6562 34.4037V7.07553H55.9142C58.0157 7.07553 59.7788 7.44026 61.2035 8.16973C62.6371 8.89919 63.719 9.92222 64.4492 11.2388C65.1882 12.5465 65.5578 14.0722 65.5578 15.8158C65.5578 17.5682 65.1838 19.0894 64.4358 20.3794C63.6967 21.6604 62.6059 22.6523 61.1634 23.355C59.7209 24.0489 57.9489 24.3959 55.8474 24.3959H48.5413V20.2859H55.1796C56.4084 20.2859 57.4146 20.1169 58.1982 19.7789C58.9818 19.4319 59.5606 18.9293 59.9346 18.271C60.3175 17.6038 60.5089 16.7854 60.5089 15.8158C60.5089 14.8461 60.3175 14.0188 59.9346 13.3338C59.5517 12.6399 58.9685 12.1151 58.1849 11.7592C57.4013 11.3945 56.3906 11.2121 55.1529 11.2121H50.6116V34.4037H45.6562ZM59.7877 22.0206L66.5595 34.4037H61.0298L54.3782 22.0206H59.7877Z"
                fill="#9161DF"
              />
              <path
                d="M94.5619 20.7396C94.5619 23.6842 94.0098 26.2062 92.9057 28.3056C91.8104 30.3961 90.3145 31.9974 88.4178 33.1094C86.5301 34.2214 84.3885 34.7774 81.9932 34.7774C79.5979 34.7774 77.4519 34.2214 75.5553 33.1094C73.6675 31.9885 72.1716 30.3828 71.0674 28.2923C69.9722 26.1928 69.4246 23.6753 69.4246 20.7396C69.4246 17.7951 69.9722 15.2776 71.0674 13.187C72.1716 11.0876 73.6675 9.48187 75.5553 8.36989C77.4519 7.2579 79.5979 6.7019 81.9932 6.7019C84.3885 6.7019 86.5301 7.2579 88.4178 8.36989C90.3145 9.48187 91.8104 11.0876 92.9057 13.187C94.0098 15.2776 94.5619 17.7951 94.5619 20.7396ZM89.5799 20.7396C89.5799 18.6669 89.2548 16.9188 88.6048 15.4955C87.9637 14.0633 87.0732 12.9824 85.9335 12.2529C84.7937 11.5146 83.4803 11.1454 81.9932 11.1454C80.5062 11.1454 79.1928 11.5146 78.053 12.2529C76.9132 12.9824 76.0183 14.0633 75.3683 15.4955C74.7272 16.9188 74.4066 18.6669 74.4066 20.7396C74.4066 22.8124 74.7272 24.5649 75.3683 25.9971C76.0183 27.4205 76.9132 28.5013 78.053 29.2397C79.1928 29.9691 80.5062 30.3339 81.9932 30.3339C83.4803 30.3339 84.7937 29.9691 85.9335 29.2397C87.0732 28.5013 87.9637 27.4205 88.6048 25.9971C89.2548 24.5649 89.5799 22.8124 89.5799 20.7396Z"
                fill="#9161DF"
              />
              <ellipse
                cx="20.6549"
                cy="20.6549"
                rx="20.6549"
                ry="20.6549"
                fill="#9161DF"
              />
              <g filter="url(#filter0_d_125_2738)">
                <path
                  d="M24.7027 21.9698C24.682 21.9912 24.6676 22.018 24.6612 22.0472C24.6548 22.0764 24.6566 22.1068 24.6664 22.135C24.6763 22.1632 24.6937 22.1881 24.7168 22.2069C24.7399 22.2256 24.7678 22.2375 24.7973 22.2412C25.5353 22.3316 27.445 22.4537 29.0117 21.5815C30.5919 20.7018 32.0161 18.4264 32.2008 17.0929C32.6061 14.1662 29.9089 11.7928 27.3082 11.9635C27.2392 11.9679 27.1698 11.9595 27.0999 11.9595L18.4932 12.0105C18.4159 12.0109 18.3398 12.0302 18.2715 12.0667C18.2032 12.1032 18.1448 12.1559 18.1011 12.2201L11.4631 21.9706C11.4467 21.9947 11.4371 22.0229 11.4355 22.0521C11.4338 22.0813 11.4401 22.1104 11.4536 22.1363C11.4672 22.1621 11.4875 22.1838 11.5123 22.1989C11.5372 22.214 11.5657 22.222 11.5948 22.222L16.1953 22.216C16.2231 22.216 16.2503 22.2233 16.2744 22.2371C16.2985 22.251 16.3185 22.2709 16.3326 22.2949C16.3467 22.319 16.3543 22.3463 16.3548 22.3742C16.3552 22.4021 16.3483 22.4296 16.335 22.4541L10.8894 32.3636C10.8708 32.3977 10.8651 32.4374 10.8733 32.4753C10.8815 32.5133 10.9032 32.547 10.9342 32.5702C10.9652 32.5933 11.0036 32.6043 11.0421 32.6012C11.0806 32.5981 11.1166 32.581 11.1436 32.5531L21.0744 22.2208L24.133 19.0146C24.1547 18.9919 24.1693 18.9633 24.1749 18.9323C24.1805 18.9013 24.177 18.8693 24.1647 18.8403C24.1524 18.8114 24.1319 18.7867 24.1058 18.7693C24.0797 18.752 24.049 18.7428 24.0177 18.7428L20.9459 18.752L17.6164 18.7922C17.587 18.7925 17.5581 18.7847 17.5328 18.7696C17.5076 18.7545 17.487 18.7326 17.4733 18.7065C17.4596 18.6803 17.4533 18.6508 17.4552 18.6213C17.4571 18.5918 17.467 18.5634 17.4839 18.5392L19.4343 15.7482C19.4786 15.685 19.5373 15.6334 19.6056 15.5978C19.6739 15.5622 19.7496 15.5437 19.8265 15.5439L27.2404 15.5559C27.2603 15.5559 27.2803 15.5559 27.2998 15.5559C28.0797 15.59 28.9039 16.1052 28.7815 17.2086C28.7352 17.6213 28.44 17.9498 27.8392 18.7151C27.8359 18.7195 27.8323 18.7237 27.8284 18.7275L24.7027 21.9698Z"
                  fill="white"
                />
              </g>
              <defs>
                <filter
                  id="filter0_d_125_2738"
                  x="10.8696"
                  y="11.9548"
                  width="23.3718"
                  height="22.6469"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood flood-opacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dx="1" dy="1" />
                  <feGaussianBlur stdDeviation="0.5" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0.129412 0 0 0 0 0.129412 0 0 0 0 0.129412 0 0 0 1 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_125_2738"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_125_2738"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          ) : (
            <svg
              width="95"
              height="48"
              viewBox="0 0 95 48"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M45.6445 46.0413V41.0929H46.7543V41.9337H46.812C46.9146 41.6502 47.0846 41.429 47.3219 41.2701C47.5593 41.109 47.8426 41.0285 48.1719 41.0285C48.5054 41.0285 48.7866 41.1101 49.0154 41.2733C49.2463 41.4344 49.4088 41.6545 49.5029 41.9337H49.5542C49.6633 41.6588 49.8472 41.4398 50.1059 41.2765C50.3667 41.1112 50.6757 41.0285 51.0328 41.0285C51.4861 41.0285 51.856 41.1724 52.1425 41.4602C52.429 41.748 52.5723 42.1678 52.5723 42.7198V46.0413H51.408V42.9002C51.408 42.5931 51.3268 42.3686 51.1643 42.2269C51.0018 42.083 50.8029 42.0111 50.5677 42.0111C50.2876 42.0111 50.0685 42.0991 49.9102 42.2752C49.7541 42.4492 49.6761 42.6758 49.6761 42.955V46.0413H48.5375V42.8519C48.5375 42.5963 48.4605 42.3923 48.3066 42.2398C48.1548 42.0873 47.9559 42.0111 47.71 42.0111C47.5433 42.0111 47.3914 42.054 47.2546 42.1399C47.1177 42.2237 47.0087 42.3429 46.9274 42.4975C46.8462 42.65 46.8056 42.8283 46.8056 43.0323V46.0413H45.6445Z"
                fill="white"
              />
              <path
                d="M55.8991 46.1379C55.418 46.1379 55.001 46.0316 54.6482 45.819C54.2954 45.6063 54.0217 45.3089 53.8271 44.9266C53.6347 44.5443 53.5385 44.0976 53.5385 43.5864C53.5385 43.0753 53.6347 42.6275 53.8271 42.243C54.0217 41.8586 54.2954 41.56 54.6482 41.3474C55.001 41.1348 55.418 41.0285 55.8991 41.0285C56.3802 41.0285 56.7971 41.1348 57.1499 41.3474C57.5027 41.56 57.7753 41.8586 57.9678 42.243C58.1623 42.6275 58.2596 43.0753 58.2596 43.5864C58.2596 44.0976 58.1623 44.5443 57.9678 44.9266C57.7753 45.3089 57.5027 45.6063 57.1499 45.819C56.7971 46.0316 56.3802 46.1379 55.8991 46.1379ZM55.9055 45.2036C56.1663 45.2036 56.3844 45.1317 56.5598 44.9878C56.7351 44.8418 56.8655 44.6463 56.9511 44.4015C57.0387 44.1566 57.0826 43.8839 57.0826 43.5832C57.0826 43.2804 57.0387 43.0065 56.9511 42.7617C56.8655 42.5147 56.7351 42.3182 56.5598 42.1721C56.3844 42.0261 56.1663 41.9531 55.9055 41.9531C55.6382 41.9531 55.4158 42.0261 55.2384 42.1721C55.063 42.3182 54.9315 42.5147 54.8439 42.7617C54.7583 43.0065 54.7156 43.2804 54.7156 43.5832C54.7156 43.8839 54.7583 44.1566 54.8439 44.4015C54.9315 44.6463 55.063 44.8418 55.2384 44.9878C55.4158 45.1317 55.6382 45.2036 55.9055 45.2036Z"
                fill="white"
              />
              <path
                d="M59.2964 46.0413V39.4434H60.4574V41.9112H60.5055C60.5654 41.7909 60.6499 41.6631 60.7589 41.5278C60.868 41.3904 61.0155 41.2733 61.2015 41.1767C61.3875 41.0779 61.6249 41.0285 61.9135 41.0285C62.2941 41.0285 62.6373 41.1262 62.9431 41.3216C63.251 41.5149 63.4947 41.8017 63.6744 42.1818C63.8561 42.5598 63.947 43.0237 63.947 43.5735C63.947 44.1169 63.8582 44.5787 63.6808 44.9588C63.5033 45.339 63.2617 45.6289 62.9559 45.8286C62.6502 46.0284 62.3038 46.1282 61.9168 46.1282C61.6345 46.1282 61.4004 46.081 61.2144 45.9865C61.0283 45.892 60.8787 45.7782 60.7653 45.645C60.6541 45.5097 60.5675 45.3819 60.5055 45.2616H60.4382V46.0413H59.2964ZM60.435 43.5671C60.435 43.8871 60.4799 44.1674 60.5697 44.4079C60.6616 44.6485 60.7931 44.8364 60.9642 44.9717C61.1374 45.1049 61.3469 45.1714 61.5928 45.1714C61.8494 45.1714 62.0643 45.1027 62.2375 44.9652C62.4107 44.8256 62.5411 44.6356 62.6288 44.395C62.7186 44.1523 62.7635 43.8764 62.7635 43.5671C62.7635 43.26 62.7196 42.9872 62.632 42.7488C62.5443 42.5104 62.4139 42.3235 62.2407 42.1882C62.0675 42.0529 61.8515 41.9853 61.5928 41.9853C61.3448 41.9853 61.1342 42.0508 60.961 42.1818C60.7878 42.3128 60.6563 42.4964 60.5665 42.7327C60.4788 42.9689 60.435 43.2471 60.435 43.5671Z"
                fill="white"
              />
              <path
                d="M64.934 46.0413V41.0929H66.0951V46.0413H64.934ZM65.5177 40.3906C65.3339 40.3906 65.1756 40.3294 65.0431 40.207C64.9105 40.0824 64.8442 39.9331 64.8442 39.7592C64.8442 39.5831 64.9105 39.4338 65.0431 39.3114C65.1756 39.1868 65.3339 39.1245 65.5177 39.1245C65.7038 39.1245 65.862 39.1868 65.9924 39.3114C66.125 39.4338 66.1913 39.5831 66.1913 39.7592C66.1913 39.9331 66.125 40.0824 65.9924 40.207C65.862 40.3294 65.7038 40.3906 65.5177 40.3906Z"
                fill="white"
              />
              <path
                d="M68.45 39.4434V46.0413H67.289V39.4434H68.45Z"
                fill="white"
              />
              <path
                d="M70.805 39.4434V46.0413H69.6439V39.4434H70.805Z"
                fill="white"
              />
              <path
                d="M74.1478 46.1379C73.6667 46.1379 73.2497 46.0316 72.8969 45.819C72.5441 45.6063 72.2704 45.3089 72.0759 44.9266C71.8834 44.5443 71.7872 44.0976 71.7872 43.5864C71.7872 43.0753 71.8834 42.6275 72.0759 42.243C72.2704 41.8586 72.5441 41.56 72.8969 41.3474C73.2497 41.1348 73.6667 41.0285 74.1478 41.0285C74.6289 41.0285 75.0458 41.1348 75.3986 41.3474C75.7514 41.56 76.024 41.8586 76.2165 42.243C76.4111 42.6275 76.5084 43.0753 76.5084 43.5864C76.5084 44.0976 76.4111 44.5443 76.2165 44.9266C76.024 45.3089 75.7514 45.6063 75.3986 45.819C75.0458 46.0316 74.6289 46.1379 74.1478 46.1379ZM74.1542 45.2036C74.4151 45.2036 74.6332 45.1317 74.8085 44.9878C74.9838 44.8418 75.1142 44.6463 75.1998 44.4015C75.2874 44.1566 75.3313 43.8839 75.3313 43.5832C75.3313 43.2804 75.2874 43.0065 75.1998 42.7617C75.1142 42.5147 74.9838 42.3182 74.8085 42.1721C74.6332 42.0261 74.4151 41.9531 74.1542 41.9531C73.8869 41.9531 73.6645 42.0261 73.4871 42.1721C73.3117 42.3182 73.1802 42.5147 73.0926 42.7617C73.007 43.0065 72.9643 43.2804 72.9643 43.5832C72.9643 43.8839 73.007 44.1566 73.0926 44.4015C73.1802 44.6463 73.3117 44.8418 73.4871 44.9878C73.6645 45.1317 73.8869 45.2036 74.1542 45.2036Z"
                fill="white"
              />
              <path
                d="M79.6363 48C79.2193 48 78.8612 47.9431 78.5618 47.8292C78.2625 47.7176 78.0219 47.5672 77.8402 47.3782C77.6584 47.1892 77.5323 46.9798 77.4617 46.75L78.5073 46.4955C78.5543 46.5921 78.6228 46.6877 78.7126 46.7822C78.8024 46.8789 78.9232 46.9583 79.075 47.0206C79.2289 47.0851 79.4224 47.1173 79.6555 47.1173C79.9848 47.1173 80.2574 47.0367 80.4734 46.8756C80.6893 46.7167 80.7973 46.4547 80.7973 46.0896V45.1521H80.7396C80.6797 45.2724 80.592 45.3959 80.4766 45.5226C80.3633 45.6493 80.2125 45.7556 80.0243 45.8415C79.8383 45.9274 79.6042 45.9704 79.3219 45.9704C78.9435 45.9704 78.6003 45.8813 78.2924 45.703C77.9866 45.5226 77.7429 45.2541 77.5611 44.8976C77.3815 44.5389 77.2917 44.0901 77.2917 43.551C77.2917 43.0076 77.3815 42.5491 77.5611 42.1754C77.7429 41.7995 77.9877 41.5149 78.2956 41.3216C78.6035 41.1262 78.9467 41.0285 79.3252 41.0285C79.6138 41.0285 79.8512 41.0779 80.0372 41.1767C80.2253 41.2733 80.375 41.3904 80.4862 41.5278C80.5974 41.6631 80.6818 41.7909 80.7396 41.9112H80.8037V41.0929H81.9487V46.1218C81.9487 46.5449 81.8482 46.895 81.6472 47.172C81.4463 47.4491 81.1715 47.6563 80.823 47.7938C80.4744 47.9313 80.0789 48 79.6363 48ZM79.6459 45.0555C79.8918 45.0555 80.1013 44.9953 80.2745 44.875C80.4477 44.7548 80.5792 44.5819 80.669 44.3564C80.7588 44.1309 80.8037 43.8602 80.8037 43.5445C80.8037 43.2331 80.7588 42.9603 80.669 42.7262C80.5813 42.4921 80.4509 42.3107 80.2777 42.1818C80.1067 42.0508 79.8961 41.9853 79.6459 41.9853C79.3872 41.9853 79.1712 42.0529 78.998 42.1882C78.8248 42.3235 78.6944 42.5093 78.6067 42.7456C78.5191 42.9797 78.4752 43.246 78.4752 43.5445C78.4752 43.8474 78.5191 44.1126 78.6067 44.3403C78.6965 44.5658 78.828 44.7419 79.0012 44.8686C79.1766 44.9932 79.3914 45.0555 79.6459 45.0555Z"
                fill="white"
              />
              <path
                d="M83.1386 46.0413V41.0929H84.2644V41.9176H84.3157C84.4055 41.632 84.5595 41.4118 84.7776 41.2572C84.9978 41.1004 85.249 41.022 85.5313 41.022C85.5954 41.022 85.6671 41.0252 85.7462 41.0317C85.8274 41.036 85.8948 41.0435 85.9482 41.0542V42.127C85.899 42.1098 85.821 42.0948 85.7141 42.0819C85.6093 42.0669 85.5078 42.0594 85.4094 42.0594C85.1977 42.0594 85.0074 42.1056 84.8385 42.1979C84.6717 42.2881 84.5402 42.4138 84.444 42.5748C84.3478 42.7359 84.2997 42.9217 84.2997 43.1322V46.0413H83.1386Z"
                fill="white"
              />
              <path
                d="M88.049 46.1411C87.7368 46.1411 87.4557 46.0853 87.2055 45.9736C86.9575 45.8598 86.7607 45.6923 86.6153 45.471C86.4721 45.2498 86.4005 44.9771 86.4005 44.6528C86.4005 44.3736 86.4518 44.1427 86.5544 43.9601C86.657 43.7776 86.7971 43.6315 86.9746 43.522C87.152 43.4124 87.352 43.3298 87.5743 43.2739C87.7988 43.2159 88.0308 43.174 88.2703 43.1483C88.559 43.1182 88.7931 43.0914 88.9727 43.0677C89.1523 43.042 89.2827 43.0033 89.364 42.9518C89.4474 42.8981 89.4891 42.8154 89.4891 42.7037V42.6844C89.4891 42.4417 89.4174 42.2537 89.2742 42.1206C89.1309 41.9874 88.9246 41.9208 88.6552 41.9208C88.3708 41.9208 88.1452 41.9831 87.9784 42.1077C87.8138 42.2323 87.7026 42.3794 87.6449 42.5491L86.5608 42.3944C86.6463 42.0937 86.7875 41.8425 86.9842 41.6406C87.1809 41.4365 87.4214 41.284 87.7058 41.1831C87.9902 41.08 88.3045 41.0285 88.6488 41.0285C88.8861 41.0285 89.1224 41.0564 89.3576 41.1122C89.5928 41.1681 89.8077 41.2604 90.0023 41.3893C90.1968 41.516 90.3529 41.6889 90.4705 41.908C90.5903 42.127 90.6501 42.4009 90.6501 42.7295V46.0413H89.534V45.3615H89.4955C89.4249 45.499 89.3255 45.6278 89.1972 45.7481C89.0711 45.8662 88.9118 45.9618 88.7193 46.0348C88.529 46.1057 88.3056 46.1411 88.049 46.1411ZM88.3505 45.2842C88.5836 45.2842 88.7856 45.238 88.9567 45.1457C89.1277 45.0512 89.2592 44.9266 89.3512 44.772C89.4453 44.6173 89.4923 44.4487 89.4923 44.2662V43.6831C89.4559 43.7131 89.3939 43.741 89.3063 43.7668C89.2207 43.7926 89.1245 43.8151 89.0176 43.8345C88.9107 43.8538 88.8049 43.871 88.7001 43.886C88.5953 43.9011 88.5044 43.9139 88.4275 43.9247C88.2543 43.9483 88.0993 43.987 87.9624 44.0407C87.8256 44.0943 87.7176 44.1695 87.6385 44.2662C87.5594 44.3607 87.5198 44.4831 87.5198 44.6334C87.5198 44.8482 87.5978 45.0104 87.7539 45.1199C87.91 45.2294 88.1089 45.2842 88.3505 45.2842Z"
                fill="white"
              />
              <path
                d="M94.3129 41.0929V41.9949H91.4006V41.0929H94.3129ZM92.1287 46.0413V40.6258C92.1287 40.2929 92.1971 40.0158 92.334 39.7946C92.4729 39.5734 92.659 39.408 92.892 39.2985C93.1251 39.1889 93.3838 39.1342 93.6682 39.1342C93.8692 39.1342 94.0477 39.1503 94.2038 39.1825C94.3599 39.2147 94.4754 39.2437 94.5502 39.2695L94.3193 40.1715C94.2701 40.1565 94.2081 40.1415 94.1332 40.1264C94.0584 40.1092 93.975 40.1007 93.8831 40.1007C93.6671 40.1007 93.5142 40.1533 93.4244 40.2585C93.3368 40.3616 93.2929 40.5098 93.2929 40.7031V46.0413H92.1287Z"
                fill="white"
              />
              <path
                d="M45.6562 34.4035V7.07529H55.9142C58.0157 7.07529 59.7788 7.44002 61.2035 8.16948C62.6371 8.89895 63.719 9.92198 64.4492 11.2386C65.1882 12.5463 65.5578 14.0719 65.5578 15.8155C65.5578 17.568 65.1838 19.0892 64.4358 20.3791C63.6967 21.6601 62.6059 22.652 61.1634 23.3548C59.7209 24.0487 57.9489 24.3956 55.8474 24.3956H48.5413V20.2857H55.1796C56.4084 20.2857 57.4146 20.1167 58.1982 19.7786C58.9818 19.4317 59.5606 18.9291 59.9346 18.2708C60.3175 17.6036 60.5089 16.7852 60.5089 15.8155C60.5089 14.8459 60.3175 14.0185 59.9346 13.3336C59.5517 12.6397 58.9685 12.1148 58.1849 11.759C57.4013 11.3942 56.3906 11.2119 55.1529 11.2119H50.6116V34.4035H45.6562ZM59.7877 22.0204L66.5595 34.4035H61.0298L54.3782 22.0204H59.7877Z"
                fill="white"
              />
              <path
                d="M94.5619 20.7394C94.5619 23.6839 94.0098 26.2059 92.9057 28.3054C91.8104 30.3959 90.3145 31.9972 88.4178 33.1091C86.5301 34.2211 84.3885 34.7771 81.9932 34.7771C79.5979 34.7771 77.4519 34.2211 75.5553 33.1091C73.6675 31.9883 72.1716 30.3826 71.0674 28.292C69.9722 26.1926 69.4246 23.675 69.4246 20.7394C69.4246 17.7949 69.9722 15.2773 71.0674 13.1868C72.1716 11.0873 73.6675 9.48163 75.5553 8.36964C77.4519 7.25765 79.5979 6.70166 81.9932 6.70166C84.3885 6.70166 86.5301 7.25765 88.4178 8.36964C90.3145 9.48163 91.8104 11.0873 92.9057 13.1868C94.0098 15.2773 94.5619 17.7949 94.5619 20.7394ZM89.5799 20.7394C89.5799 18.6667 89.2548 16.9186 88.6048 15.4953C87.9637 14.063 87.0732 12.9822 85.9335 12.2527C84.7937 11.5143 83.4803 11.1452 81.9932 11.1452C80.5062 11.1452 79.1928 11.5143 78.053 12.2527C76.9132 12.9822 76.0183 14.063 75.3683 15.4953C74.7272 16.9186 74.4066 18.6667 74.4066 20.7394C74.4066 22.8121 74.7272 24.5646 75.3683 25.9969C76.0183 27.4202 76.9132 28.5011 78.053 29.2394C79.1928 29.9689 80.5062 30.3336 81.9932 30.3336C83.4803 30.3336 84.7937 29.9689 85.9335 29.2394C87.0732 28.5011 87.9637 27.4202 88.6048 25.9969C89.2548 24.5646 89.5799 22.8121 89.5799 20.7394Z"
                fill="white"
              />
              <ellipse
                cx="20.6549"
                cy="20.6549"
                rx="20.6549"
                ry="20.6549"
                fill="#9161DF"
              />
              <g filter="url(#filter0_d_125_8274)">
                <path
                  d="M24.7027 21.9701C24.682 21.9915 24.6676 22.0183 24.6612 22.0475C24.6548 22.0766 24.6566 22.107 24.6664 22.1353C24.6763 22.1635 24.6937 22.1883 24.7168 22.2071C24.7399 22.2259 24.7678 22.2378 24.7973 22.2415C25.5353 22.3318 27.445 22.4539 29.0117 21.5818C30.5919 20.7021 32.0161 18.4266 32.2008 17.0932C32.6061 14.1665 29.9089 11.7931 27.3082 11.9637C27.2392 11.9682 27.1698 11.9597 27.0999 11.9597L18.4932 12.0107C18.4159 12.0112 18.3398 12.0305 18.2715 12.067C18.2032 12.1035 18.1448 12.1561 18.1011 12.2203L11.4631 21.9709C11.4467 21.995 11.4371 22.0232 11.4355 22.0524C11.4338 22.0815 11.4401 22.1106 11.4536 22.1365C11.4672 22.1624 11.4875 22.184 11.5123 22.1991C11.5372 22.2142 11.5657 22.2222 11.5948 22.2222L16.1953 22.2162C16.2231 22.2162 16.2503 22.2235 16.2744 22.2374C16.2985 22.2512 16.3185 22.2711 16.3326 22.2952C16.3467 22.3192 16.3543 22.3465 16.3548 22.3744C16.3552 22.4023 16.3483 22.4299 16.335 22.4543L10.8894 32.3639C10.8708 32.3979 10.8651 32.4376 10.8733 32.4756C10.8815 32.5136 10.9032 32.5473 10.9342 32.5704C10.9652 32.5935 11.0036 32.6046 11.0421 32.6014C11.0806 32.5983 11.1166 32.5812 11.1436 32.5534L21.0744 22.221L24.133 19.0149C24.1547 18.9921 24.1693 18.9635 24.1749 18.9325C24.1805 18.9015 24.177 18.8696 24.1647 18.8406C24.1524 18.8116 24.1319 18.7869 24.1058 18.7696C24.0797 18.7522 24.049 18.743 24.0177 18.743L20.9459 18.7523L17.6164 18.7924C17.587 18.7928 17.5581 18.785 17.5328 18.7698C17.5076 18.7547 17.487 18.7329 17.4733 18.7067C17.4596 18.6805 17.4533 18.6511 17.4552 18.6216C17.4571 18.5921 17.467 18.5637 17.4839 18.5395L19.4343 15.7485C19.4786 15.6852 19.5373 15.6336 19.6056 15.5981C19.6739 15.5625 19.7496 15.544 19.8265 15.5441L27.2404 15.5562C27.2603 15.5562 27.2803 15.5562 27.2998 15.5562C28.0797 15.5903 28.9039 16.1054 28.7815 17.2088C28.7352 17.6216 28.44 17.95 27.8392 18.7153C27.8359 18.7198 27.8323 18.7239 27.8284 18.7278L24.7027 21.9701Z"
                  fill="white"
                />
              </g>
              <defs>
                <filter
                  id="filter0_d_125_8274"
                  x="10.8696"
                  y="11.9551"
                  width="23.3718"
                  height="22.647"
                  filterUnits="userSpaceOnUse"
                  colorInterpolationFilters="sRGB"
                >
                  <feFlood flood-opacity="0" result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    type="matrix"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                    result="hardAlpha"
                  />
                  <feOffset dx="1" dy="1" />
                  <feGaussianBlur stdDeviation="0.5" />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix
                    type="matrix"
                    values="0 0 0 0 0.129412 0 0 0 0 0.129412 0 0 0 0 0.129412 0 0 0 1 0"
                  />
                  <feBlend
                    mode="normal"
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_125_8274"
                  />
                  <feBlend
                    mode="normal"
                    in="SourceGraphic"
                    in2="effect1_dropShadow_125_8274"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          )}
        </Link>
      </div>
      <div className={isOpenMobMenu ? cl.rightItems_open : cl.rightItems}>
        <Image src={mobLogoSrc} alt="logo" className={cl.moblogo} />
        <button
          className={cl.closeBtnMob}
          onClick={() => dispatch(setIsOpenMobMenu(false))}
        >
          x
        </button>
        <LangChanger />
        {user ? (
          <div className={cl.profileContainer}>
            <button className={cl.profileBtn} onClick={goToProfile}>
              <Image
                alt="profileClient"
                src={theme === "dark" ? profImgWhite : profImgDark}
              />
            </button>
            <button className={cl.profileBtn} onClick={logout}>
              <Image
                alt="profileClient"
                src={theme === "dark" ? exitIcon : exitIconDark}
              />
            </button>
          </div>
        ) : (
          <>
            <RegisterButton />
            <LoginButton />
          </>
        )}
        <ThemeCganger />
        <div className={cl.mobileCategories}>
          {isOpenMobMenu && <CategoryList />}
        </div>
      </div>
      <button
        className={cl.hamburger}
        onClick={() => dispatch(setIsOpenMobMenu(true))}
      >
        <span className={cl.line}></span>
      </button>
      <div
        className={isOpenMobMenu ? cl.overview_open : cl.overview_close}
        onClick={() => dispatch(setIsOpenMobMenu(false))}
      ></div>
    </div>
  );
};
